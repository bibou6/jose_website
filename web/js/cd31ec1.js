;var dropzone=new Dropzone('#dropzone-easyadmin-alone',{autoQueue:!1,parallelUploads:1,chunking:!1,resizeQuality:0.6,maxFiles:1,});dropzone.on('addedfile',function(e){var a=700,t=700,n=new FileReader();n.addEventListener('load',function(n){var r=new Image();r.src=n.target.result;r.addEventListener('load',function(o){var i=o.target.width,n=o.target.height;getOrientation(e,function(d){if(i>a&&n>t){if(i>n){if(i>a){n*=a/i;i=a}}
else{if(n>t){i*=t/n;n=t}}};var s=0;switch(d){case 3:s=180;break;case 6:s=90;break;case 8:s=-90;break};var o=document.createElement('canvas');o.width=i;o.height=n;var l=o.getContext('2d');l.translate(o.width/2,o.height/2);l.rotate(Math.PI/180*s);l.drawImage(r,-i/2,-n/2,i,n);var u=base64ToFile(o.toDataURL(),e),c=dropzone.files.indexOf(e);dropzone.files[c]=u;dropzone.enqueueFile(u)})})});n.readAsDataURL(e)});
'use strict';var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1;i.configurable=!0;if('value' in i)i.writable=!0;Object.defineProperty(e,i.key,i)}};return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();function _possibleConstructorReturn(e,t){if(!e){throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called')};return t&&(typeof t==='object'||typeof t==='function')?t:e};function _inherits(e,t){if(typeof t!=='function'&&t!==null){throw new TypeError('Super expression must either be null or a function, not '+typeof t)};e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t};function _classCallCheck(e,t){if(!(e instanceof t)){throw new TypeError('Cannot call a class as a function')}};var Emitter=function(){function e(){_classCallCheck(this,e)};_createClass(e,[{key:'on',value:function(e,t){this._callbacks=this._callbacks||{};if(!this._callbacks[e]){this._callbacks[e]=[]};this._callbacks[e].push(t);return this}},{key:'emit',value:function(e){this._callbacks=this._callbacks||{};var s=this._callbacks[e];if(s){for(var a=arguments.length,l=Array(a>1?a-1:0),n=1;n<a;n++){l[n-1]=arguments[n]};for(var t=s,o=!0,i=0,t=o?t:t[Symbol.iterator]();;){var r;if(o){if(i>=t.length)break;r=t[i++]}
else{i=t.next();if(i.done)break;r=i.value};var u=r;u.apply(this,l)}};return this}},{key:'off',value:function(e,t){if(!this._callbacks||arguments.length===0){this._callbacks={};return this};var n=this._callbacks[e];if(!n){return this};if(arguments.length===1){delete this._callbacks[e];return this};for(var i=0;i<n.length;i++){var r=n[i];if(r===t){n.splice(i,1);break}};return this}}]);return e}(),Dropzone=function(e){_inherits(t,e);_createClass(t,null,[{key:'initClass',value:function(){this.prototype.Emitter=Emitter;this.prototype.events=['drop','dragstart','dragend','dragenter','dragover','dragleave','addedfile','addedfiles','removedfile','thumbnail','error','errormultiple','processing','processingmultiple','uploadprogress','totaluploadprogress','sending','sendingmultiple','success','successmultiple','canceled','canceledmultiple','complete','completemultiple','reset','maxfilesexceeded','maxfilesreached','queuecomplete'];this.prototype.defaultOptions={url:null,method:'post',withCredentials:!1,timeout:30000,parallelUploads:4,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2000000,parallelChunkUploads:!1,retryChunks:!0,retryChunksLimit:3,maxFilesize:512,paramName:'file',createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:'crop',resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:0.8,resizeMethod:'contain',filesizeBase:1000,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!1,addRemoveLinks:!0,previewsContainer:null,hiddenInputContainer:'body',capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:'Drop files here to upload',dictFallbackMessage:'Your browser does not support drag\'n\'drop file uploads.',dictFallbackText:'Please use the fallback form below to upload your files like in the olden days.',dictFileTooBig:'File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.',dictInvalidFileType:'You can\'t upload files of this type.',dictResponseError:'Server responded with {{statusCode}} code.',dictCancelUpload:'Cancel upload',dictUploadCanceled:'Upload canceled.',dictCancelUploadConfirmation:'Are you sure you want to cancel this upload?',dictRemoveFile:'Remove file',dictRemoveFileConfirmation:null,dictMaxFilesExceeded:'You can not upload any more files.',dictFileSizeUnits:{tb:'TB',gb:'GB',mb:'MB',kb:'KB',b:'b'},init:function(){},params:function(e,t,i){if(i){return{dzuuid:i.file.upload.uuid,dzchunkindex:i.index,dztotalfilesize:i.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:i.file.upload.totalChunkCount,dzchunkbyteoffset:i.index*this.options.chunkSize}}},accept:function(e,t){return t()},chunksUploaded:function(e,t){t()},fallback:function(){var r=void 0;this.element.className=this.element.className+' dz-browser-not-supported';for(var e=this.element.getElementsByTagName('div'),l=!0,n=0,e=l?e:e[Symbol.iterator]();;){var o;if(l){if(n>=e.length)break;o=e[n++]}
else{n=e.next();if(n.done)break;o=n.value};var a=o;if(/(^| )dz-message($| )/.test(a.className)){r=a;a.className='dz-message';break}};if(!r){r=t.createElement('<div class="dz-message"><span></span></div>');this.element.appendChild(r)};var i=r.getElementsByTagName('span')[0];if(i){if(i.textContent!=null){i.textContent=this.options.dictFallbackMessage}
else if(i.innerText!=null){i.innerText=this.options.dictFallbackMessage}};return this.element.appendChild(this.getFallbackForm())},resize:function(e,t,i,r){var n={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height};var a=e.width/e.height;if(t==null&&i==null){t=n.srcWidth;i=n.srcHeight}
else if(t==null){t=i*a}
else if(i==null){i=t/a};t=Math.min(t,n.srcWidth);i=Math.min(i,n.srcHeight);var o=t/i;if(n.srcWidth>t||n.srcHeight>i){if(r==='crop'){if(a>o){n.srcHeight=e.height;n.srcWidth=n.srcHeight*o}
else{n.srcWidth=e.width;n.srcHeight=n.srcWidth/o}}
else if(r==='contain'){if(a>o){i=t/a}
else{t=i*a}}
else{throw new Error('Unknown resizeMethod \''+r+'\'')}};n.srcX=(e.width-n.srcWidth)/2;n.srcY=(e.height-n.srcHeight)/2;n.trgWidth=t;n.trgHeight=i;return n},transformFile:function(e,t){if((this.options.resizeWidth||this.options.resizeHeight)&&e.type.match(/image.*/)){return this.resizeImage(e,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t)}
else{return t(e)}},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(e){return this.element.classList.remove('dz-drag-hover')},dragstart:function(e){},dragend:function(e){return this.element.classList.remove('dz-drag-hover')},dragenter:function(e){return this.element.classList.add('dz-drag-hover')},dragover:function(e){return this.element.classList.add('dz-drag-hover')},dragleave:function(e){return this.element.classList.remove('dz-drag-hover')},paste:function(e){},reset:function(){return this.element.classList.remove('dz-started')},addedfile:function(e){var i=this;if(this.element===this.previewsContainer){this.element.classList.add('dz-started')};if(this.previewsContainer){e.previewElement=t.createElement(this.options.previewTemplate.trim());e.previewTemplate=e.previewElement;this.previewsContainer.appendChild(e.previewElement);for(var a=e.previewElement.querySelectorAll('[data-dz-name]'),h=!0,s=0,a=h?a:a[Symbol.iterator]();;){var c;if(h){if(s>=a.length)break;c=a[s++]}
else{s=a.next();if(s.done)break;c=s.value};var u=c;u.textContent=e.name};for(var r=e.previewElement.querySelectorAll('[data-dz-size]'),f=!0,l=0,r=f?r:r[Symbol.iterator]();;){if(f){if(l>=r.length)break;u=r[l++]}
else{l=r.next();if(l.done)break;u=l.value};u.innerHTML=this.filesize(e.size)};if(this.options.addRemoveLinks){e._removeLink=t.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+'</a>');e.previewElement.appendChild(e._removeLink)};var v=function(n){n.preventDefault();n.stopPropagation();if(e.status===t.UPLOADING){return t.confirm(i.options.dictCancelUploadConfirmation,function(){return i.removeFile(e)})}
else{if(i.options.dictRemoveFileConfirmation){return t.confirm(i.options.dictRemoveFileConfirmation,function(){return i.removeFile(e)})}
else{return i.removeFile(e)}}};for(var n=e.previewElement.querySelectorAll('[data-dz-remove]'),p=!0,o=0,n=p?n:n[Symbol.iterator]();;){var d;if(p){if(o>=n.length)break;d=n[o++]}
else{o=n.next();if(o.done)break;d=o.value};var m=d;m.addEventListener('click',v)}}},removedfile:function(e){if(e.previewElement!=null&&e.previewElement.parentNode!=null){e.previewElement.parentNode.removeChild(e.previewElement)};return this._updateMaxFilesReachedClass()},thumbnail:function(e,t){if(e.previewElement){e.previewElement.classList.remove('dz-file-preview');for(var i=e.previewElement.querySelectorAll('[data-dz-thumbnail]'),o=!0,n=0,i=o?i:i[Symbol.iterator]();;){var r;if(o){if(n>=i.length)break;r=i[n++]}
else{n=i.next();if(n.done)break;r=n.value};var a=r;a.alt=e.name;a.src=t};return setTimeout(function(){return e.previewElement.classList.add('dz-image-preview')},1)}},error:function(e,t){if(e.previewElement){e.previewElement.classList.add('dz-error');if(typeof t!=='String'&&t.error){t=t.error};for(var i=e.previewElement.querySelectorAll('[data-dz-errormessage]'),a=!0,n=0,i=a?i:i[Symbol.iterator]();;){var r;if(a){if(n>=i.length)break;r=i[n++]}
else{n=i.next();if(n.done)break;r=n.value};var o=r;o.textContent=t}}},errormultiple:function(){},processing:function(e){if(e.previewElement){e.previewElement.classList.add('dz-processing');if(e._removeLink){return e._removeLink.textContent=this.options.dictCancelUpload}}},processingmultiple:function(){},uploadprogress:function(e,t,i){if(e.previewElement){for(var n=e.previewElement.querySelectorAll('[data-dz-uploadprogress]'),l=!0,r=0,n=l?n:n[Symbol.iterator]();;){var o;if(l){if(r>=n.length)break;o=n[r++]}
else{r=n.next();if(r.done)break;o=r.value};var a=o;a.nodeName==='PROGRESS'?a.value=t:a.style.width=t+'%'}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(e){if(e.previewElement){return e.previewElement.classList.add('dz-success')}},successmultiple:function(){},canceled:function(e){return this.emit('error',e,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(e){if(e._removeLink){e._removeLink.textContent=this.options.dictRemoveFile};if(e.previewElement){return e.previewElement.classList.add('dz-complete')}},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}};this.prototype._thumbnailQueue=[];this.prototype._processingThumbnail=!1}},{key:'extend',value:function(e){for(var a=arguments.length,u=Array(a>1?a-1:0),n=1;n<a;n++){u[n-1]=arguments[n]};for(var t=u,s=!0,i=0,t=s?t:t[Symbol.iterator]();;){var r;if(s){if(i>=t.length)break;r=t[i++]}
else{i=t.next();if(i.done)break;r=i.value};var l=r;for(var o in l){var d=l[o];e[o]=d}};return e}}]);function t(e,n){_classCallCheck(this,t);var i=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=void 0,o=void 0;i.element=e;i.version=t.version;i.defaultOptions.previewTemplate=i.defaultOptions.previewTemplate.replace(/\n*/g,'');i.clickableElements=[];i.listeners=[];i.files=[];if(typeof i.element==='string'){i.element=document.querySelector(i.element)};if(!i.element||i.element.nodeType==null){throw new Error('Invalid dropzone element.')};if(i.element.dropzone){throw new Error('Dropzone already attached.')};t.instances.push(i);i.element.dropzone=i;var l=(o=t.optionsForElement(i.element))!=null?o:{};i.options=t.extend({},i.defaultOptions,l,n!=null?n:{});if(i.options.forceFallback||!t.isBrowserSupported()){var a;return a=i.options.fallback.call(i),_possibleConstructorReturn(i,a)};if(i.options.url==null){i.options.url=i.element.getAttribute('action')};if(!i.options.url){throw new Error('No URL provided.')};if(i.options.acceptedFiles&&i.options.acceptedMimeTypes){throw new Error('You can\'t provide both \'acceptedFiles\' and \'acceptedMimeTypes\'. \'acceptedMimeTypes\' is deprecated.')};if(i.options.uploadMultiple&&i.options.chunking){throw new Error('You cannot set both: uploadMultiple and chunking.')};if(i.options.acceptedMimeTypes){i.options.acceptedFiles=i.options.acceptedMimeTypes;delete i.options.acceptedMimeTypes};if(i.options.renameFilename!=null){i.options.renameFile=function(e){return i.options.renameFilename.call(i,e.name,e)}};i.options.method=i.options.method.toUpperCase();if((r=i.getExistingFallback())&&r.parentNode){r.parentNode.removeChild(r)};if(i.options.previewsContainer!==!1){if(i.options.previewsContainer){i.previewsContainer=t.getElement(i.options.previewsContainer,'previewsContainer')}
else{i.previewsContainer=i.element}};if(i.options.clickable){if(i.options.clickable===!0){i.clickableElements=[i.element]}
else{i.clickableElements=t.getElements(i.options.clickable,'clickable')}};i.init();return i};_createClass(t,[{key:'getAcceptedFiles',value:function(){return this.files.filter(function(e){return e.accepted}).map(function(e){return e})}},{key:'getRejectedFiles',value:function(){return this.files.filter(function(e){return!e.accepted}).map(function(e){return e})}},{key:'getFilesWithStatus',value:function(e){return this.files.filter(function(t){return t.status===e}).map(function(e){return e})}},{key:'getQueuedFiles',value:function(){return this.getFilesWithStatus(t.QUEUED)}},{key:'getUploadingFiles',value:function(){return this.getFilesWithStatus(t.UPLOADING)}},{key:'getAddedFiles',value:function(){return this.getFilesWithStatus(t.ADDED)}},{key:'getActiveFiles',value:function(){return this.files.filter(function(e){return e.status===t.UPLOADING||e.status===t.QUEUED}).map(function(e){return e})}},{key:'init',value:function(){var e=this;if(this.element.tagName==='form'){this.element.setAttribute('enctype','multipart/form-data')};if(this.element.classList.contains('dropzone')&&!this.element.querySelector('.dz-message')){this.element.appendChild(t.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+'</span></div>'))};if(this.clickableElements.length){var s=function u(){if(e.hiddenFileInput){e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput)};e.hiddenFileInput=document.createElement('input');e.hiddenFileInput.setAttribute('type','file');if(e.options.maxFiles===null||e.options.maxFiles>1){e.hiddenFileInput.setAttribute('multiple','multiple')};e.hiddenFileInput.className='dz-hidden-input';if(e.options.acceptedFiles!==null){e.hiddenFileInput.setAttribute('accept',e.options.acceptedFiles)};if(e.options.capture!==null){e.hiddenFileInput.setAttribute('capture',e.options.capture)};e.hiddenFileInput.style.visibility='hidden';e.hiddenFileInput.style.position='absolute';e.hiddenFileInput.style.top='0';e.hiddenFileInput.style.left='0';e.hiddenFileInput.style.height='0';e.hiddenFileInput.style.width='0';document.querySelector(e.options.hiddenInputContainer).appendChild(e.hiddenFileInput);return e.hiddenFileInput.addEventListener('change',function(){var r=e.hiddenFileInput.files;if(r.length){for(var t=r,a=!0,i=0,t=a?t:t[Symbol.iterator]();;){var n;if(a){if(i>=t.length)break;n=t[i++]}
else{i=t.next();if(i.done)break;n=i.value};var o=n;e.addFile(o)}};e.emit('addedfiles',r);return u()})};s()};this.URL=window.URL!==null?window.URL:window.webkitURL;for(var i=this.events,l=!0,n=0,i=l?i:i[Symbol.iterator]();;){var r;if(l){if(n>=i.length)break;r=i[n++]}
else{n=i.next();if(n.done)break;r=n.value};var o=r;this.on(o,this.options[o])};this.on('uploadprogress',function(){return e.updateTotalUploadProgress()});this.on('removedfile',function(){return e.updateTotalUploadProgress()});this.on('canceled',function(t){return e.emit('complete',t)});this.on('complete',function(t){if(e.getAddedFiles().length===0&&e.getUploadingFiles().length===0&&e.getQueuedFiles().length===0){return setTimeout(function(){return e.emit('queuecomplete')},0)}});var a=function(e){e.stopPropagation();if(e.preventDefault){return e.preventDefault()}
else{return e.returnValue=!1}};this.listeners=[{element:this.element,events:{'dragstart':function(t){return e.emit('dragstart',t)},'dragenter':function(t){a(t);return e.emit('dragenter',t)},'dragover':function(t){var n=void 0;try{n=t.dataTransfer.effectAllowed}catch(i){};t.dataTransfer.dropEffect='move'===n||'linkMove'===n?'move':'copy';a(t);return e.emit('dragover',t)},'dragleave':function(t){return e.emit('dragleave',t)},'drop':function(t){a(t);return e.drop(t)},'dragend':function(t){return e.emit('dragend',t)}}}];this.clickableElements.forEach(function(i){return e.listeners.push({element:i,events:{'click':function(n){if(i!==e.element||n.target===e.element||t.elementInside(n.target,e.element.querySelector('.dz-message'))){e.hiddenFileInput.click()};return!0}}})});this.enable();return this.options.init.call(this)}},{key:'destroy',value:function(){this.disable();this.removeAllFiles(!0);if(this.hiddenFileInput!=null?this.hiddenFileInput.parentNode:undefined){this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);this.hiddenFileInput=null};delete this.element.dropzone;return t.instances.splice(t.instances.indexOf(this),1)}},{key:'updateTotalUploadProgress',value:function(){var n=void 0,r=0,a=0,s=this.getActiveFiles();if(s.length){for(var e=this.getActiveFiles(),l=!0,t=0,e=l?e:e[Symbol.iterator]();;){var i;if(l){if(t>=e.length)break;i=e[t++]}
else{t=e.next();if(t.done)break;i=t.value};var o=i;r+=o.upload.bytesSent;a+=o.upload.total};n=100*r/a}
else{n=100};return this.emit('totaluploadprogress',n,a,r)}},{key:'_getParamName',value:function(e){if(typeof this.options.paramName==='function'){return this.options.paramName(e)}
else{return''+this.options.paramName+(this.options.uploadMultiple?'['+e+']':'')}}},{key:'_renameFile',value:function(e){if(typeof this.options.renameFile!=='function'){return e.name};return this.options.renameFile(e)}},{key:'getFallbackForm',value:function(){var r=void 0,e=void 0;if(r=this.getExistingFallback()){return r};var i='<div class="dz-fallback">';if(this.options.dictFallbackText){i+='<p>'+this.options.dictFallbackText+'</p>'};i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':undefined)+' /><input type="submit" value="Upload!"></div>';var n=t.createElement(i);if(this.element.tagName!=='FORM'){e=t.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>');e.appendChild(n)}
else{this.element.setAttribute('enctype','multipart/form-data');this.element.setAttribute('method',this.options.method)};return e!=null?e:n}},{key:'getExistingFallback',value:function(){var r=function(e){for(var t=e,a=!0,i=0,t=a?t:t[Symbol.iterator]();;){var n;if(a){if(i>=t.length)break;n=t[i++]}
else{i=t.next();if(i.done)break;n=i.value};var r=n;if(/(^| )fallback($| )/.test(r.className)){return r}}},i=['div','form'];for(var e=0;e<i.length;e++){var n=i[e],t;if(t=r(this.element.getElementsByTagName(n))){return t}}}},{key:'setupEventListeners',value:function(){return this.listeners.map(function(e){return function(){var t=[];for(var i in e.events){var n=e.events[i];t.push(e.element.addEventListener(i,n,!1))};return t}()})}},{key:'removeEventListeners',value:function(){return this.listeners.map(function(e){return function(){var t=[];for(var i in e.events){var n=e.events[i];t.push(e.element.removeEventListener(i,n,!1))};return t}()})}},{key:'disable',value:function(){var e=this;this.clickableElements.forEach(function(e){return e.classList.remove('dz-clickable')});this.removeEventListeners();this.disabled=!0;return this.files.map(function(t){return e.cancelUpload(t)})}},{key:'enable',value:function(){delete this.disabled;this.clickableElements.forEach(function(e){return e.classList.add('dz-clickable')});return this.setupEventListeners()}},{key:'filesize',value:function(e){var i=0,r='b';if(e>0){var n=['tb','gb','mb','kb','b'];for(var t=0;t<n.length;t++){var a=n[t],o=Math.pow(this.options.filesizeBase,4-t)/10;if(e>=o){i=e/Math.pow(this.options.filesizeBase,4-t);r=a;break}};i=Math.round(10*i)/10};return'<strong>'+i+'</strong> '+this.options.dictFileSizeUnits[r]}},{key:'_updateMaxFilesReachedClass',value:function(){if(this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles){if(this.getAcceptedFiles().length===this.options.maxFiles){this.emit('maxfilesreached',this.files)};return this.element.classList.add('dz-max-files-reached')}
else{return this.element.classList.remove('dz-max-files-reached')}}},{key:'drop',value:function(e){if(!e.dataTransfer){return};this.emit('drop',e);var n=[];for(var i=0;i<e.dataTransfer.files.length;i++){n[i]=e.dataTransfer.files[i]};this.emit('addedfiles',n);if(n.length){var t=e.dataTransfer.items;if(t&&t.length&&t[0].webkitGetAsEntry!=null){this._addFilesFromItems(t)}
else{this.handleFiles(n)}}}},{key:'paste',value:function(e){if(__guard__(e!=null?e.clipboardData:undefined,function(e){return e.items})==null){return};this.emit('paste',e);var t=e.clipboardData.items;if(t.length){return this._addFilesFromItems(t)}}},{key:'handleFiles',value:function(e){for(var t=e,r=!0,i=0,t=r?t:t[Symbol.iterator]();;){var n;if(r){if(i>=t.length)break;n=t[i++]}
else{i=t.next();if(i.done)break;n=i.value};var a=n;this.addFile(a)}}},{key:'_addFilesFromItems',value:function(e){var t=this;return function(){var i=[];for(var r=e,s=!0,o=0,r=s?r:r[Symbol.iterator]();;){var l;if(s){if(o>=r.length)break;l=r[o++]}
else{o=r.next();if(o.done)break;l=o.value};var n=l,a;if(n.webkitGetAsEntry!=null&&(a=n.webkitGetAsEntry())){if(a.isFile){i.push(t.addFile(n.getAsFile()))}
else if(a.isDirectory){i.push(t._addFilesFromDirectory(a,a.name))}
else{i.push(undefined)}}
else if(n.getAsFile!=null){if(n.kind==null||n.kind==='file'){i.push(t.addFile(n.getAsFile()))}
else{i.push(undefined)}}
else{i.push(undefined)}};return i}()}},{key:'_addFilesFromDirectory',value:function(e,t){var i=this,n=e.createReader(),r=function(e){return __guardMethod__(console,'log',function(t){return t.log(e)})},a=function o(){return n.readEntries(function(e){if(e.length>0){for(var n=e,s=!0,a=0,n=s?n:n[Symbol.iterator]();;){var l;if(s){if(a>=n.length)break;l=n[a++]}
else{a=n.next();if(a.done)break;l=a.value};var r=l;if(r.isFile){r.file(function(e){if(i.options.ignoreHiddenFiles&&e.name.substring(0,1)==='.'){return};e.fullPath=t+'/'+e.name;return i.addFile(e)})}
else if(r.isDirectory){i._addFilesFromDirectory(r,t+'/'+r.name)}};o()};return null},r)};return a()}},{key:'accept',value:function(e,i){if(e.size>this.options.maxFilesize*1024*1024){return i(this.options.dictFileTooBig.replace('{{filesize}}',Math.round(e.size/1024/10.24)/100).replace('{{maxFilesize}}',this.options.maxFilesize))}
else if(!t.isValidFile(e,this.options.acceptedFiles)){return i(this.options.dictInvalidFileType)}
else if(this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles){i(this.options.dictMaxFilesExceeded.replace('{{maxFiles}}',this.options.maxFiles));return this.emit('maxfilesexceeded',e)}
else{return this.options.accept.call(this,e,i)}}},{key:'addFile',value:function(e){var i=this;e.upload={uuid:t.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e),chunked:this.options.chunking&&(this.options.forceChunking||e.size>this.options.chunkSize),totalChunkCount:Math.ceil(e.size/this.options.chunkSize)};this.files.push(e);e.status=t.ADDED;this.emit('addedfile',e);this._enqueueThumbnail(e);return this.accept(e,function(t){if(t){e.accepted=!1;i._errorProcessing([e],t)}
else{e.accepted=!0;if(i.options.autoQueue){i.enqueueFile(e)}};return i._updateMaxFilesReachedClass()})}},{key:'enqueueFiles',value:function(e){for(var t=e,r=!0,i=0,t=r?t:t[Symbol.iterator]();;){var n;if(r){if(i>=t.length)break;n=t[i++]}
else{i=t.next();if(i.done)break;n=i.value};var a=n;this.enqueueFile(a)};return null}},{key:'enqueueFile',value:function(e){var i=this;if(e.status===t.ADDED&&e.accepted===!0){e.status=t.QUEUED;if(this.options.autoProcessQueue){return setTimeout(function(){return i.processQueue()},0)}}
else{throw new Error('This file can\'t be queued because it has already been processed or was rejected.')}}},{key:'_enqueueThumbnail',value:function(e){var t=this;if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=this.options.maxThumbnailFilesize*1024*1024){this._thumbnailQueue.push(e);return setTimeout(function(){return t._processThumbnailQueue()},0)}}},{key:'_processThumbnailQueue',value:function(){var e=this;if(this._processingThumbnail||this._thumbnailQueue.length===0){return};this._processingThumbnail=!0;var t=this._thumbnailQueue.shift();return this.createThumbnail(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(i){e.emit('thumbnail',t,i);e._processingThumbnail=!1;return e._processThumbnailQueue()})}},{key:'removeFile',value:function(e){if(e.status===t.UPLOADING){this.cancelUpload(e)};this.files=without(this.files,e);this.emit('removedfile',e);if(this.files.length===0){return this.emit('reset')}}},{key:'removeAllFiles',value:function(e){if(e==null){e=!1};for(var i=this.files.slice(),o=!0,n=0,i=o?i:i[Symbol.iterator]();;){var r;if(o){if(n>=i.length)break;r=i[n++]}
else{n=i.next();if(n.done)break;r=n.value};var a=r;if(a.status!==t.UPLOADING||e){this.removeFile(a)}};return null}},{key:'resizeImage',value:function(e,i,n,r,a){var o=this;return this.createThumbnail(e,i,n,r,!1,function(i,n){if(n==null){return a(e)}
else{var r=o.options.resizeMimeType;if(r==null){r=e.type};var l=n.toDataURL(r,o.options.resizeQuality);if(r==='image/jpeg'||r==='image/jpg'){l=ExifRestore.restore(e.dataURL,l)};return a(t.dataURItoBlob(l))}})}},{key:'createThumbnail',value:function(e,t,i,n,a,r){var l=this,o=new FileReader();o.onload=function(){e.dataURL=o.result;if(e.type==='image/svg+xml'){if(r!=null){r(o.result)};return};return l.createThumbnailFromUrl(e,t,i,n,a,r)};return o.readAsDataURL(e)}},{key:'createThumbnailFromUrl',value:function(e,t,i,a,o,r,l){var s=this,n=document.createElement('img');if(l){n.crossOrigin=l};n.onload=function(){var l=function(e){return e(1)};if(typeof EXIF!=='undefined'&&EXIF!==null&&o){l=function(e){return EXIF.getData(n,function(){return e(EXIF.getTag(this,'Orientation'))})}};return l(function(o){e.width=n.width;e.height=n.height;var l=s.options.resize.call(s,e,t,i,a),d=document.createElement('canvas'),u=d.getContext('2d');d.width=l.trgWidth;d.height=l.trgHeight;if(o>4){d.width=l.trgHeight;d.height=l.trgWidth};switch(o){case 2:u.translate(d.width,0);u.scale(-1,1);break;case 3:u.translate(d.width,d.height);u.rotate(Math.PI);break;case 4:u.translate(0,d.height);u.scale(1,-1);break;case 5:u.rotate(0.5*Math.PI);u.scale(1,-1);break;case 6:u.rotate(0.5*Math.PI);u.translate(0,-d.height);break;case 7:u.rotate(0.5*Math.PI);u.translate(d.width,-d.height);u.scale(-1,1);break;case 8:u.rotate(-0.5*Math.PI);u.translate(-d.width,0);break};drawImageIOSFix(u,n,l.srcX!=null?l.srcX:0,l.srcY!=null?l.srcY:0,l.srcWidth,l.srcHeight,l.trgX!=null?l.trgX:0,l.trgY!=null?l.trgY:0,l.trgWidth,l.trgHeight);var c=d.toDataURL('image/png');if(r!=null){return r(c,d)}})};if(r!=null){n.onerror=r};return n.src=e.dataURL}},{key:'processQueue',value:function(){var t=this.options.parallelUploads,i=this.getUploadingFiles().length,n=i;if(i>=t){return};var e=this.getQueuedFiles();if(!(e.length>0)){return};if(this.options.uploadMultiple){return this.processFiles(e.slice(0,t-i))}
else{while(n<t){if(!e.length){return};this.processFile(e.shift());n++}}}},{key:'processFile',value:function(e){return this.processFiles([e])}},{key:'processFiles',value:function(e){for(var i=e,o=!0,n=0,i=o?i:i[Symbol.iterator]();;){var a;if(o){if(n>=i.length)break;a=i[n++]}
else{n=i.next();if(n.done)break;a=n.value};var r=a;r.processing=!0;r.status=t.UPLOADING;this.emit('processing',r)};if(this.options.uploadMultiple){this.emit('processingmultiple',e)};return this.uploadFiles(e)}},{key:'_getFilesWithXhr',value:function(e){var t=void 0;return t=this.files.filter(function(t){return t.xhr===e}).map(function(e){return e})}},{key:'cancelUpload',value:function(e){if(e.status===t.UPLOADING){var s=this._getFilesWithXhr(e.xhr);for(var n=s,d=!0,a=0,n=d?n:n[Symbol.iterator]();;){var l;if(d){if(a>=n.length)break;l=n[a++]}
else{a=n.next();if(a.done)break;l=a.value};var f=l;f.status=t.CANCELED};if(typeof e.xhr!=='undefined'){e.xhr.abort()};for(var i=s,u=!0,r=0,i=u?i:i[Symbol.iterator]();;){var o;if(u){if(r>=i.length)break;o=i[r++]}
else{r=i.next();if(r.done)break;o=r.value};var c=o;this.emit('canceled',c)};if(this.options.uploadMultiple){this.emit('canceledmultiple',s)}}
else if(e.status===t.ADDED||e.status===t.QUEUED){e.status=t.CANCELED;this.emit('canceled',e);if(this.options.uploadMultiple){this.emit('canceledmultiple',[e])}};if(this.options.autoProcessQueue){return this.processQueue()}}},{key:'resolveOption',value:function(e){if(typeof e==='function'){for(var i=arguments.length,n=Array(i>1?i-1:0),t=1;t<i;t++){n[t-1]=arguments[t]};return e.apply(this,n)};return e}},{key:'uploadFile',value:function(e){return this.uploadFiles([e])}},{key:'uploadFiles',value:function(e){var i=this;this._transformFiles(e,function(n){if(e[0].upload.chunked){var r=e[0],l=n[0],d=0;r.upload.chunks=[];var o=function(){var n=0;while(r.upload.chunks[n]!==undefined){n++};if(n>=r.upload.totalChunkCount)return;d++;var a=n*i.options.chunkSize,o=Math.min(a+i.options.chunkSize,r.size),s={name:i._getParamName(0),data:l.webkitSlice?l.webkitSlice(a,o):l.slice(a,o),filename:r.upload.filename,chunkIndex:n};r.upload.chunks[n]={file:r,index:n,dataBlock:s,status:t.UPLOADING,progress:0,retries:0};i._uploadData(e,[s])};r.upload.finishedChunkUpload=function(n){var l=!0;n.status=t.SUCCESS;n.dataBlock=null;for(var a=0;a<r.upload.totalChunkCount;a++){if(r.upload.chunks[a]===undefined){return o()};if(r.upload.chunks[a].status!==t.SUCCESS){l=!1}};if(l){i.options.chunksUploaded(r,function(){i._finished(e,'',null)})}};if(i.options.parallelChunkUploads){for(var u=0;u<r.upload.totalChunkCount;u++){o()}}
else{o()}}
else{var s=[];for(var a=0;a<e.length;a++){s[a]={name:i._getParamName(a),data:n[a],filename:e[a].upload.filename}};i._uploadData(e,s)}})}},{key:'_getChunk',value:function(e,t){for(var i=0;i<e.upload.totalChunkCount;i++){if(e.upload.chunks[i]!==undefined&&e.upload.chunks[i].xhr===t){return e.upload.chunks[i]}}}},{key:'_uploadData',value:function(e,i){var f=this,n=new XMLHttpRequest();for(var a=e,b=!0,s=0,a=b?a:a[Symbol.iterator]();;){var c;if(b){if(s>=a.length)break;c=a[s++]}
else{s=a.next();if(s.done)break;c=s.value};var z=c;z.xhr=n};if(e[0].upload.chunked){e[0].upload.chunks[i[0].chunkIndex].xhr=n};var x=this.resolveOption(this.options.method,e),E=this.resolveOption(this.options.url,e);n.open(x,E,!0);n.timeout=this.resolveOption(this.options.timeout,e);n.withCredentials=!!this.options.withCredentials;n.onload=function(t){f._finishedUploading(e,n,t)};n.onerror=function(){f._handleUploadError(e,n)};var w=n.upload!=null?n.upload:n;w.onprogress=function(t){return f._updateFilesUploadProgress(e,n,t)};var h={'Accept':'application/json','Cache-Control':'no-cache','X-Requested-With':'XMLHttpRequest'};if(this.options.headers){t.extend(h,this.options.headers)};for(var g in h){var v=h[g];if(v){n.setRequestHeader(g,v)}};var o=new FormData();if(this.options.params){var u=this.options.params;if(typeof u==='function'){u=u.call(this,e,n,e[0].upload.chunked?this._getChunk(e[0],n):null)};for(var k in u){var C=u[k];o.append(k,C)}};for(var r=e,y=!0,l=0,r=y?r:r[Symbol.iterator]();;){var d;if(y){if(l>=r.length)break;d=r[l++]}
else{l=r.next();if(l.done)break;d=l.value};var F=d;this.emit('sending',F,n,o)};if(this.options.uploadMultiple){this.emit('sendingmultiple',e,n,o)};this._addFormElementData(o);for(var m=0;m<i.length;m++){var p=i[m];o.append(p.name,p.data,p.filename)};this.submitRequest(n,o,e)}},{key:'_transformFiles',value:function(e,t){var n=this,r=[],a=0,o=function(i){n.options.transformFile.call(n,e[i],function(n){r[i]=n;if(++a===e.length){t(r)}})};for(var i=0;i<e.length;i++){o(i)}}},{key:'_addFormElementData',value:function(e){if(this.element.tagName==='FORM'){for(var r=this.element.querySelectorAll('input, textarea, select, button'),f=!0,o=0,r=f?r:r[Symbol.iterator]();;){var u;if(f){if(o>=r.length)break;u=r[o++]}
else{o=r.next();if(o.done)break;u=o.value};var t=u,l=t.getAttribute('name'),n=t.getAttribute('type');if(n)n=n.toLowerCase();if(typeof l==='undefined'||l===null)continue;if(t.tagName==='SELECT'&&t.hasAttribute('multiple')){for(var i=t.options,c=!0,a=0,i=c?i:i[Symbol.iterator]();;){var s;if(c){if(a>=i.length)break;s=i[a++]}
else{a=i.next();if(a.done)break;s=a.value};var d=s;if(d.selected){e.append(l,d.value)}}}
else if(!n||n!=='checkbox'&&n!=='radio'||t.checked){e.append(l,t.value)}}}}},{key:'_updateFilesUploadProgress',value:function(e,t,i){var a=void 0;if(typeof i!=='undefined'){a=100*i.loaded/i.total;if(e[0].upload.chunked){var n=e[0],g=this._getChunk(n,t);g.progress=a;g.total=i.total;g.bytesSent=i.loaded;var D=0,L=void 0,A=void 0;n.upload.progress=0;n.upload.total=0;n.upload.bytesSent=0;for(var r=0;r<n.upload.totalChunkCount;r++){if(n.upload.chunks[r]!==undefined&&n.upload.chunks[r].progress!==undefined){n.upload.progress+=n.upload.chunks[r].progress;n.upload.total+=n.upload.chunks[r].total;n.upload.bytesSent+=n.upload.chunks[r].bytesSent}};n.upload.progress=n.upload.progress/n.upload.totalChunkCount}
else{for(var l=e,z=!0,f=0,l=z?l:l[Symbol.iterator]();;){var m;if(z){if(f>=l.length)break;m=l[f++]}
else{f=l.next();if(f.done)break;m=f.value};var v=m;v.upload.progress=a;v.upload.total=i.total;v.upload.bytesSent=i.loaded}};for(var u=e,w=!0,c=0,u=w?u:u[Symbol.iterator]();;){var k;if(w){if(c>=u.length)break;k=u[c++]}
else{c=u.next();if(c.done)break;k=c.value};var b=k;this.emit('uploadprogress',b,b.upload.progress,b.upload.bytesSent)}}
else{var x=!0;a=100;for(var o=e,E=!0,h=0,o=E?o:o[Symbol.iterator]();;){var y;if(E){if(h>=o.length)break;y=o[h++]}
else{h=o.next();if(h.done)break;y=h.value};var s=y;if(s.upload.progress!==100||s.upload.bytesSent!==s.upload.total){x=!1};s.upload.progress=a;s.upload.bytesSent=s.upload.total};if(x){return};for(var d=e,C=!0,p=0,d=C?d:d[Symbol.iterator]();;){var F;if(C){if(p>=d.length)break;F=d[p++]}
else{p=d.next();if(p.done)break;F=p.value};var S=F;this.emit('uploadprogress',S,a,S.upload.bytesSent)}}}},{key:'_finishedUploading',value:function(e,i,n){var r=void 0;if(e[0].status===t.CANCELED){return};if(i.readyState!==4){return};if(i.responseType!=='arraybuffer'&&i.responseType!=='blob'){r=i.responseText;if(i.getResponseHeader('content-type')&&~i.getResponseHeader('content-type').indexOf('application/json')){try{r=JSON.parse(r)}catch(a){n=a;r='Invalid JSON response from server.'}}};this._updateFilesUploadProgress(e);if(!(200<=i.status&&i.status<300)){this._handleUploadError(e,i,r)}
else{if(e[0].upload.chunked){e[0].upload.finishedChunkUpload(this._getChunk(e[0],i))}
else{this._finished(e,r,n)}}}},{key:'_handleUploadError',value:function(e,i,n){if(e[0].status===t.CANCELED){return};if(e[0].upload.chunked&&this.options.retryChunks){var s=this._getChunk(e[0],i);if(s.retries++<this.options.retryChunksLimit){this._uploadData(e,[s.dataBlock]);return}
else{console.warn('Retried this chunk too often. Giving up.')}};for(var r=e,l=!0,a=0,r=l?r:r[Symbol.iterator]();;){var o;if(l){if(a>=r.length)break;o=r[a++]}
else{a=r.next();if(a.done)break;o=a.value};var u=o;this._errorProcessing(e,n||this.options.dictResponseError.replace('{{statusCode}}',i.status),i)}}},{key:'submitRequest',value:function(e,t,i){e.send(t)}},{key:'_finished',value:function(e,i,n){for(var r=e,s=!0,a=0,r=s?r:r[Symbol.iterator]();;){var l;if(s){if(a>=r.length)break;l=r[a++]}
else{a=r.next();if(a.done)break;l=a.value};var o=l;o.status=t.SUCCESS;this.emit('success',o,i,n);this.emit('complete',o)};if(this.options.uploadMultiple){this.emit('successmultiple',e,i,n);this.emit('completemultiple',e)};if(this.options.autoProcessQueue){return this.processQueue()}}},{key:'_errorProcessing',value:function(e,i,n){for(var r=e,s=!0,a=0,r=s?r:r[Symbol.iterator]();;){var l;if(s){if(a>=r.length)break;l=r[a++]}
else{a=r.next();if(a.done)break;l=a.value};var o=l;o.status=t.ERROR;this.emit('error',o,i,n);this.emit('complete',o)};if(this.options.uploadMultiple){this.emit('errormultiple',e,i,n);this.emit('completemultiple',e)};if(this.options.autoProcessQueue){return this.processQueue()}}}],[{key:'uuidv4',value:function(){return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(e){var t=Math.random()*16|0,i=e==='x'?t:t&0x3|0x8;return i.toString(16)})}}]);return t}(Emitter);Dropzone.initClass();Dropzone.version='5.4.0';Dropzone.options={};Dropzone.optionsForElement=function(e){if(e.getAttribute('id')){return Dropzone.options[camelize(e.getAttribute('id'))]}
else{return undefined}};Dropzone.instances=[];Dropzone.forElement=function(e){if(typeof e==='string'){e=document.querySelector(e)};if((e!=null?e.dropzone:undefined)==null){throw new Error('No Dropzone found for given element. This is probably because you\'re trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.')};return e.dropzone};Dropzone.autoDiscover=!1;Dropzone.discover=function(){var e=void 0;if(document.querySelectorAll){e=document.querySelectorAll('.dropzone')}
else{e=[];var t=function(t){return function(){var a=[];for(var i=t,l=!0,n=0,i=l?i:i[Symbol.iterator]();;){var r;if(l){if(n>=i.length)break;r=i[n++]}
else{n=i.next();if(n.done)break;r=n.value};var o=r;if(/(^| )dropzone($| )/.test(o.className)){a.push(e.push(o))}
else{a.push(undefined)}};return a}()};t(document.getElementsByTagName('div'));t(document.getElementsByTagName('form'))};return function(){var r=[];for(var t=e,o=!0,i=0,t=o?t:t[Symbol.iterator]();;){var n;if(o){if(i>=t.length)break;n=t[i++]}
else{i=t.next();if(i.done)break;n=i.value};var a=n;if(Dropzone.optionsForElement(a)!==!1){r.push(new Dropzone(a))}
else{r.push(undefined)}};return r}()};Dropzone.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i];Dropzone.isBrowserSupported=function(){var i=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if(!('classList' in document.createElement('a'))){i=!1}
else{for(var e=Dropzone.blacklistedBrowsers,r=!0,t=0,e=r?e:e[Symbol.iterator]();;){var n;if(r){if(t>=e.length)break;n=e[t++]}
else{t=e.next();if(t.done)break;n=t.value};var a=n;if(a.test(navigator.userAgent)){i=!1;continue}}}}
else{i=!1};return i};Dropzone.dataURItoBlob=function(e){var n=atob(e.split(',')[1]),o=e.split(',')[0].split(':')[1].split(';')[0],a=new ArrayBuffer(n.length),l=new Uint8Array(a);for(var t=0,i=n.length,r=0<=i;r?t<=i:t>=i;r?t++:t--){l[t]=n.charCodeAt(t)};return new Blob([a],{type:o})};var without=function(e,t){return e.filter(function(e){return e!==t}).map(function(e){return e})},camelize=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})};Dropzone.createElement=function(e){var t=document.createElement('div');t.innerHTML=e;return t.childNodes[0]};Dropzone.elementInside=function(e,t){if(e===t){return!0}
while(e=e.parentNode){if(e===t){return!0}};return!1};Dropzone.getElement=function(e,t){var i=void 0;if(typeof e==='string'){i=document.querySelector(e)}
else if(e.nodeType!=null){i=e};if(i==null){throw new Error('Invalid `'+t+'` option provided. Please provide a CSS selector or a plain HTML element.')};return i};Dropzone.getElements=function(e,t){var a=void 0,i=void 0;if(e instanceof Array){i=[];try{for(var r=e,d=!0,l=0,r=d?r:r[Symbol.iterator]();;){if(d){if(l>=r.length)break;a=r[l++]}
else{l=r.next();if(l.done)break;a=l.value};i.push(this.getElement(a,t))}}catch(s){i=null}}
else if(typeof e==='string'){i=[];for(var n=document.querySelectorAll(e),u=!0,o=0,n=u?n:n[Symbol.iterator]();;){if(u){if(o>=n.length)break;a=n[o++]}
else{o=n.next();if(o.done)break;a=o.value};i.push(a)}}
else if(e.nodeType!=null){i=[e]};if(i==null||!i.length){throw new Error('Invalid `'+t+'` option provided. Please provide a CSS selector, a plain HTML element or a list of those.')};return i};Dropzone.confirm=function(e,t,i){if(window.confirm(e)){return t()}
else if(i!=null){return i()}};Dropzone.isValidFile=function(e,t){if(!t){return!0};t=t.split(',');var l=e.type,s=l.replace(/\/.*$/,'');for(var n=t,o=!0,r=0,n=o?n:n[Symbol.iterator]();;){var a;if(o){if(r>=n.length)break;a=n[r++]}
else{r=n.next();if(r.done)break;a=r.value};var i=a;i=i.trim();if(i.charAt(0)==='.'){if(e.name.toLowerCase().indexOf(i.toLowerCase(),e.name.length-i.length)!==-1){return!0}}
else if(/\/\*$/.test(i)){if(s===i.replace(/\/.*$/,'')){return!0}}
else{if(l===i){return!0}}};return!1};if(typeof jQuery!=='undefined'&&jQuery!==null){jQuery.fn.dropzone=function(e){return this.each(function(){return new Dropzone(this,e)})}};if(typeof module!=='undefined'&&module!==null){module.exports=Dropzone}
else{window.Dropzone=Dropzone};Dropzone.ADDED='added';Dropzone.QUEUED='queued';Dropzone.ACCEPTED=Dropzone.QUEUED;Dropzone.UPLOADING='uploading';Dropzone.PROCESSING=Dropzone.UPLOADING;Dropzone.CANCELED='canceled';Dropzone.ERROR='error';Dropzone.SUCCESS='success';var detectVerticalSquash=function(e){var c=e.naturalWidth,i=e.naturalHeight,r=document.createElement('canvas');r.width=1;r.height=i;var l=r.getContext('2d');l.drawImage(e,0,0);var u=l.getImageData(1,0,1,i),d=u.data,n=0,o=i,t=i;while(t>n){var s=d[(t-1)*4+3];if(s===0){o=t}
else{n=t};t=o+n>>1};var a=t/i;if(a===0){return 1}
else{return a}},drawImageIOSFix=function(e,t,i,n,r,a,o,l,s,u){var d=detectVerticalSquash(t);return e.drawImage(t,i,n,r,a,o,l,s,u/d)},ExifRestore=function(){function e(){_classCallCheck(this,e)};_createClass(e,null,[{key:'initClass',value:function(){this.KEY_STR='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='}},{key:'encode64',value:function(e){var l='',r=undefined,t=undefined,i='',s=undefined,u=undefined,a=undefined,n='',o=0;while(!0){r=e[o++];t=e[o++];i=e[o++];s=r>>2;u=(r&3)<<4|t>>4;a=(t&15)<<2|i>>6;n=i&63;if(isNaN(t)){a=n=64}
else if(isNaN(i)){n=64};l=l+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(u)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(n);r=t=i='';s=u=a=n='';if(!(o<e.length)){break}};return l}},{key:'restore',value:function(e,t){if(!e.match('data:image/jpeg;base64,')){return t};var i=this.decode64(e.replace('data:image/jpeg;base64,','')),n=this.slice2Segments(i),r=this.exifManipulation(t,n);return'data:image/jpeg;base64,'+this.encode64(r)}},{key:'exifManipulation',value:function(e,t){var i=this.getExifArray(t),n=this.insertExif(e,i),r=new Uint8Array(n);return r}},{key:'getExifArray',value:function(e){var t=undefined,i=0;while(i<e.length){t=e[i];if(t[0]===255&t[1]===225){return t};i++};return[]}},{key:'insertExif',value:function(e,t){var a=e.replace('data:image/jpeg;base64,',''),n=this.decode64(a),r=n.indexOf(255,3),o=n.slice(0,r),l=n.slice(r),i=o;i=i.concat(t);i=i.concat(l);return i}},{key:'slice2Segments',value:function(e){var t=0,r=[];while(!0){var n;if(e[t]===255&e[t+1]===218){break};if(e[t]===255&e[t+1]===216){t+=2}
else{n=e[t+2]*256+e[t+3];var i=t+n+2,a=e.slice(t,i);r.push(a);t=i};if(t>e.length){break}};return r}},{key:'decode64',value:function(e){var c='',o=undefined,l=undefined,s='',u=undefined,n=undefined,t=undefined,r='',i=0,a=[],d=/[^A-Za-z0-9\+\/\=]/g;if(d.exec(e)){console.warn('There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, \'+\', \'/\',and \'=\'\nExpect errors in decoding.')};e=e.replace(/[^A-Za-z0-9\+\/\=]/g,'');while(!0){u=this.KEY_STR.indexOf(e.charAt(i++));n=this.KEY_STR.indexOf(e.charAt(i++));t=this.KEY_STR.indexOf(e.charAt(i++));r=this.KEY_STR.indexOf(e.charAt(i++));o=u<<2|n>>4;l=(n&15)<<4|t>>2;s=(t&3)<<6|r;a.push(o);if(t!==64){a.push(l)};if(r!==64){a.push(s)};o=l=s='';u=n=t=r='';if(!(i<e.length)){break}};return a}}]);return e}();ExifRestore.initClass();var contentLoaded=function(e,t){var l=!1,s=!0,i=e.document,u=i.documentElement,o=i.addEventListener?'addEventListener':'attachEvent',d=i.addEventListener?'removeEventListener':'detachEvent',n=i.addEventListener?'':'on',r=function f(r){if(r.type==='readystatechange'&&i.readyState!=='complete'){return}(r.type==='load'?e:i)[d](n+r.type,f,!1);if(!l&&(l=!0)){return t.call(e,r.type||r)}},c=function p(){try{u.doScroll('left')}catch(e){setTimeout(p,50);return};return r('poll')};if(i.readyState!=='complete'){if(i.createEventObject&&u.doScroll){try{s=!e.frameElement}catch(a){};if(s){c()}};i[o](n+'DOMContentLoaded',r,!1);i[o](n+'readystatechange',r,!1);return e[o](n+'load',r,!1)}};Dropzone._autoDiscoverFunction=function(){if(Dropzone.autoDiscover){return Dropzone.discover()}};contentLoaded(window,Dropzone._autoDiscoverFunction);function __guard__(e,t){return typeof e!=='undefined'&&e!==null?t(e):undefined};function __guardMethod__(e,t,i){if(typeof e!=='undefined'&&e!==null&&typeof e[t]==='function'){return i(e,t)}
else{return undefined}};
(function(){var t=!1,F=this,e=function(t){if(t instanceof e)return t;if(!(this instanceof e))return new e(t);this.EXIFwrapped=t};if(typeof exports!=='undefined'){if(typeof module!=='undefined'&&module.exports){exports=module.exports=e};exports.EXIF=e}
else{F.EXIF=e};var b=e.Tags={0x9000:'ExifVersion',0xA000:'FlashpixVersion',0xA001:'ColorSpace',0xA002:'PixelXDimension',0xA003:'PixelYDimension',0x9101:'ComponentsConfiguration',0x9102:'CompressedBitsPerPixel',0x927C:'MakerNote',0x9286:'UserComment',0xA004:'RelatedSoundFile',0x9003:'DateTimeOriginal',0x9004:'DateTimeDigitized',0x9290:'SubsecTime',0x9291:'SubsecTimeOriginal',0x9292:'SubsecTimeDigitized',0x829A:'ExposureTime',0x829D:'FNumber',0x8822:'ExposureProgram',0x8824:'SpectralSensitivity',0x8827:'ISOSpeedRatings',0x8828:'OECF',0x9201:'ShutterSpeedValue',0x9202:'ApertureValue',0x9203:'BrightnessValue',0x9204:'ExposureBias',0x9205:'MaxApertureValue',0x9206:'SubjectDistance',0x9207:'MeteringMode',0x9208:'LightSource',0x9209:'Flash',0x9214:'SubjectArea',0x920A:'FocalLength',0xA20B:'FlashEnergy',0xA20C:'SpatialFrequencyResponse',0xA20E:'FocalPlaneXResolution',0xA20F:'FocalPlaneYResolution',0xA210:'FocalPlaneResolutionUnit',0xA214:'SubjectLocation',0xA215:'ExposureIndex',0xA217:'SensingMethod',0xA300:'FileSource',0xA301:'SceneType',0xA302:'CFAPattern',0xA401:'CustomRendered',0xA402:'ExposureMode',0xA403:'WhiteBalance',0xA404:'DigitalZoomRation',0xA405:'FocalLengthIn35mmFilm',0xA406:'SceneCaptureType',0xA407:'GainControl',0xA408:'Contrast',0xA409:'Saturation',0xA40A:'Sharpness',0xA40B:'DeviceSettingDescription',0xA40C:'SubjectDistanceRange',0xA005:'InteroperabilityIFDPointer',0xA420:'ImageUniqueID'};var y=e.TiffTags={0x0100:'ImageWidth',0x0101:'ImageHeight',0x8769:'ExifIFDPointer',0x8825:'GPSInfoIFDPointer',0xA005:'InteroperabilityIFDPointer',0x0102:'BitsPerSample',0x0103:'Compression',0x0106:'PhotometricInterpretation',0x0112:'Orientation',0x0115:'SamplesPerPixel',0x011C:'PlanarConfiguration',0x0212:'YCbCrSubSampling',0x0213:'YCbCrPositioning',0x011A:'XResolution',0x011B:'YResolution',0x0128:'ResolutionUnit',0x0111:'StripOffsets',0x0116:'RowsPerStrip',0x0117:'StripByteCounts',0x0201:'JPEGInterchangeFormat',0x0202:'JPEGInterchangeFormatLength',0x012D:'TransferFunction',0x013E:'WhitePoint',0x013F:'PrimaryChromaticities',0x0211:'YCbCrCoefficients',0x0214:'ReferenceBlackWhite',0x0132:'DateTime',0x010E:'ImageDescription',0x010F:'Make',0x0110:'Model',0x0131:'Software',0x013B:'Artist',0x8298:'Copyright'};var v=e.GPSTags={0x0000:'GPSVersionID',0x0001:'GPSLatitudeRef',0x0002:'GPSLatitude',0x0003:'GPSLongitudeRef',0x0004:'GPSLongitude',0x0005:'GPSAltitudeRef',0x0006:'GPSAltitude',0x0007:'GPSTimeStamp',0x0008:'GPSSatellites',0x0009:'GPSStatus',0x000A:'GPSMeasureMode',0x000B:'GPSDOP',0x000C:'GPSSpeedRef',0x000D:'GPSSpeed',0x000E:'GPSTrackRef',0x000F:'GPSTrack',0x0010:'GPSImgDirectionRef',0x0011:'GPSImgDirection',0x0012:'GPSMapDatum',0x0013:'GPSDestLatitudeRef',0x0014:'GPSDestLatitude',0x0015:'GPSDestLongitudeRef',0x0016:'GPSDestLongitude',0x0017:'GPSDestBearingRef',0x0018:'GPSDestBearing',0x0019:'GPSDestDistanceRef',0x001A:'GPSDestDistance',0x001B:'GPSProcessingMethod',0x001C:'GPSAreaInformation',0x001D:'GPSDateStamp',0x001E:'GPSDifferential'};var x=e.IFD1Tags={0x0100:'ImageWidth',0x0101:'ImageHeight',0x0102:'BitsPerSample',0x0103:'Compression',0x0106:'PhotometricInterpretation',0x0111:'StripOffsets',0x0112:'Orientation',0x0115:'SamplesPerPixel',0x0116:'RowsPerStrip',0x0117:'StripByteCounts',0x011A:'XResolution',0x011B:'YResolution',0x011C:'PlanarConfiguration',0x0128:'ResolutionUnit',0x0201:'JpegIFOffset',0x0202:'JpegIFByteCount',0x0211:'YCbCrCoefficients',0x0212:'YCbCrSubSampling',0x0213:'YCbCrPositioning',0x0214:'ReferenceBlackWhite'};var r=e.StringValues={ExposureProgram:{0:'Not defined',1:'Manual',2:'Normal program',3:'Aperture priority',4:'Shutter priority',5:'Creative program',6:'Action program',7:'Portrait mode',8:'Landscape mode'},MeteringMode:{0:'Unknown',1:'Average',2:'CenterWeightedAverage',3:'Spot',4:'MultiSpot',5:'Pattern',6:'Partial',255:'Other'},LightSource:{0:'Unknown',1:'Daylight',2:'Fluorescent',3:'Tungsten (incandescent light)',4:'Flash',9:'Fine weather',10:'Cloudy weather',11:'Shade',12:'Daylight fluorescent (D 5700 - 7100K)',13:'Day white fluorescent (N 4600 - 5400K)',14:'Cool white fluorescent (W 3900 - 4500K)',15:'White fluorescent (WW 3200 - 3700K)',17:'Standard light A',18:'Standard light B',19:'Standard light C',20:'D55',21:'D65',22:'D75',23:'D50',24:'ISO studio tungsten',255:'Other'},Flash:{0x0000:'Flash did not fire',0x0001:'Flash fired',0x0005:'Strobe return light not detected',0x0007:'Strobe return light detected',0x0009:'Flash fired, compulsory flash mode',0x000D:'Flash fired, compulsory flash mode, return light not detected',0x000F:'Flash fired, compulsory flash mode, return light detected',0x0010:'Flash did not fire, compulsory flash mode',0x0018:'Flash did not fire, auto mode',0x0019:'Flash fired, auto mode',0x001D:'Flash fired, auto mode, return light not detected',0x001F:'Flash fired, auto mode, return light detected',0x0020:'No flash function',0x0041:'Flash fired, red-eye reduction mode',0x0045:'Flash fired, red-eye reduction mode, return light not detected',0x0047:'Flash fired, red-eye reduction mode, return light detected',0x0049:'Flash fired, compulsory flash mode, red-eye reduction mode',0x004D:'Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected',0x004F:'Flash fired, compulsory flash mode, red-eye reduction mode, return light detected',0x0059:'Flash fired, auto mode, red-eye reduction mode',0x005D:'Flash fired, auto mode, return light not detected, red-eye reduction mode',0x005F:'Flash fired, auto mode, return light detected, red-eye reduction mode'},SensingMethod:{1:'Not defined',2:'One-chip color area sensor',3:'Two-chip color area sensor',4:'Three-chip color area sensor',5:'Color sequential area sensor',7:'Trilinear sensor',8:'Color sequential linear sensor'},SceneCaptureType:{0:'Standard',1:'Landscape',2:'Portrait',3:'Night scene'},SceneType:{1:'Directly photographed'},CustomRendered:{0:'Normal process',1:'Custom process'},WhiteBalance:{0:'Auto white balance',1:'Manual white balance'},GainControl:{0:'None',1:'Low gain up',2:'High gain up',3:'Low gain down',4:'High gain down'},Contrast:{0:'Normal',1:'Soft',2:'Hard'},Saturation:{0:'Normal',1:'Low saturation',2:'High saturation'},Sharpness:{0:'Normal',1:'Soft',2:'Hard'},SubjectDistanceRange:{0:'Unknown',1:'Macro',2:'Close view',3:'Distant view'},FileSource:{3:'DSC'},Components:{0:'',1:'Y',2:'Cb',3:'Cr',4:'R',5:'G',6:'B'}};function w(e,t,n){if(e.addEventListener){e.addEventListener(t,n,!1)}
else if(e.attachEvent){e.attachEvent('on'+t,n)}};function i(e){return!!(e.exifdata)};function P(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/mi)[1]||'';e=e.replace(/^data\:([^\;]+)\;base64,/gmi,'');var i=atob(e),r=i.length,o=new ArrayBuffer(r),a=new Uint8Array(o);for(var n=0;n<r;n++){a[n]=i.charCodeAt(n)};return o};function S(e,t){var n=new XMLHttpRequest();n.open('GET',e,!0);n.responseType='blob';n.onload=function(e){if(this.status==200||this.status===0){t(this.response)}};n.send()};function h(n,i){function a(t){var a=l(t);n.exifdata=a||{};var o=p(t);n.iptcdata=o||{};if(e.isXmpEnabled){var r=u(t);n.xmpdata=r||{}};if(i){i.call(n)}};if(n.src){if(/^data\:/i.test(n.src)){var s=P(n.src);a(s)}
else if(/^blob\:/i.test(n.src)){var o=new FileReader();o.onload=function(e){a(e.target.result)};S(n.src,function(e){o.readAsArrayBuffer(e)})}
else{var r=new XMLHttpRequest();r.onload=function(){if(this.status==200||this.status===0){a(r.response)}
else{throw'Could not load image'};r=null};r.open('GET',n.src,!0);r.responseType='arraybuffer';r.send(null)}}
else if(self.FileReader&&(n instanceof self.Blob||n instanceof self.File)){var o=new FileReader();o.onload=function(e){if(t)console.log('Got file of length '+e.target.result.byteLength);a(e.target.result)};o.readAsArrayBuffer(n)}};function l(e){var i=new DataView(e);if(t)console.log('Got file of length '+e.byteLength);if((i.getUint8(0)!=0xFF)||(i.getUint8(1)!=0xD8)){if(t)console.log('Not a valid JPEG');return!1};var n=2,o=e.byteLength,r;while(n<o){if(i.getUint8(n)!=0xFF){if(t)console.log('Not a valid marker at offset '+n+', found: '+i.getUint8(n));return!1};r=i.getUint8(n+1);if(t)console.log(r);if(r==225){if(t)console.log('Found 0xFFE1 marker');return c(i,n+4,i.getUint16(n+2)-2)}
else{n+=2+i.getUint16(n+2)}}};function p(e){var r=new DataView(e);if(t)console.log('Got file of length '+e.byteLength);if((r.getUint8(0)!=0xFF)||(r.getUint8(1)!=0xD8)){if(t)console.log('Not a valid JPEG');return!1};var i=2,s=e.byteLength,l=function(e,t){return(e.getUint8(t)===0x38&&e.getUint8(t+1)===0x42&&e.getUint8(t+2)===0x49&&e.getUint8(t+3)===0x4D&&e.getUint8(t+4)===0x04&&e.getUint8(t+5)===0x04)};while(i<s){if(l(r,i)){var n=r.getUint8(i+7);if(n%2!==0)n+=1;if(n===0){n=4};var o=i+8+n,a=r.getUint16(i+6+n);return f(e,o,a);break};i++}};var s={0x78:'caption',0x6E:'credit',0x19:'keywords',0x37:'dateCreated',0x50:'byline',0x55:'bylineTitle',0x7A:'captionWriter',0x69:'headline',0x74:'copyright',0x0F:'category'};function f(e,t,i){var l=new DataView(e),a={};var f,r,u,c,d,o=t;while(o<t+i){if(l.getUint8(o)===0x1C&&l.getUint8(o+1)===0x02){c=l.getUint8(o+2);if(c in s){u=l.getInt16(o+3);d=u+5;r=s[c];f=n(l,o+5,u);if(a.hasOwnProperty(r)){if(a[r]instanceof Array){a[r].push(f)}
else{a[r]=[a[r],f]}}
else{a[r]=f}}};o++};return a};function a(e,n,i,s,r){var u=e.getUint16(i,!r),f={},o,l,a;for(a=0;a<u;a++){o=i+a*12+2;l=s[e.getUint16(o,!r)];if(!l&&t)console.log('Unknown tag: '+e.getUint16(o,!r));f[l]=m(e,o,n,i,r)};return f};function m(e,i,l,g,o){var m=e.getUint16(i+2,!o),a=e.getUint32(i+4,!o),s=e.getUint32(i+8,!o)+l,f,r,d,t,u,c;switch(m){case 1:case 7:if(a==1){return e.getUint8(i+8,!o)}
else{f=a>4?s:(i+8);r=[];for(t=0;t<a;t++){r[t]=e.getUint8(f+t)};return r};case 2:f=a>4?s:(i+8);return n(e,f,a-1);case 3:if(a==1){return e.getUint16(i+8,!o)}
else{f=a>2?s:(i+8);r=[];for(t=0;t<a;t++){r[t]=e.getUint16(f+2*t,!o)};return r};case 4:if(a==1){return e.getUint32(i+8,!o)}
else{r=[];for(t=0;t<a;t++){r[t]=e.getUint32(s+4*t,!o)};return r};case 5:if(a==1){u=e.getUint32(s,!o);c=e.getUint32(s+4,!o);d=new Number(u/c);d.numerator=u;d.denominator=c;return d}
else{r=[];for(t=0;t<a;t++){u=e.getUint32(s+8*t,!o);c=e.getUint32(s+4+8*t,!o);r[t]=new Number(u/c);r[t].numerator=u;r[t].denominator=c};return r};case 9:if(a==1){return e.getInt32(i+8,!o)}
else{r=[];for(t=0;t<a;t++){r[t]=e.getInt32(s+4*t,!o)};return r};case 10:if(a==1){return e.getInt32(s,!o)/e.getInt32(s+4,!o)}
else{r=[];for(t=0;t<a;t++){r[t]=e.getInt32(s+8*t,!o)/e.getInt32(s+4+8*t,!o)};return r}}};function g(e,t,n){var i=e.getUint16(t,!n);return e.getUint32(t+2+i*12,!n)};function d(e,t,i,r){var o=g(e,t+i,r);if(!o){return{}}
else if(o>e.byteLength){return{}};var n=a(e,t,t+o,x,r);if(n['Compression']){switch(n['Compression']){case 6:if(n.JpegIFOffset&&n.JpegIFByteCount){var s=t+n.JpegIFOffset,l=n.JpegIFByteCount;n['blob']=new Blob([new Uint8Array(e.buffer,s,l)],{type:'image/jpeg'})};break;case 1:console.log('Thumbnail image format is TIFF, which is not implemented.');break;default:console.log('Unknown thumbnail image format \'%s\'',n['Compression'])}}
else if(n['PhotometricInterpretation']==2){console.log('Thumbnail image format is RGB, which is not implemented.')};return n};function n(e,t,n){var r='';for(var i=t;i<t+n;i++){r+=String.fromCharCode(e.getUint8(i))};return r};function c(e,o){if(n(e,o,4)!='Exif'){if(t)console.log('Not valid EXIF data! '+n(e,o,4));return!1};var f,u,i,s,c,l=o+6;if(e.getUint16(l)==0x4949){f=!1}
else if(e.getUint16(l)==0x4D4D){f=!0}
else{if(t)console.log('Not valid TIFF data! (no 0x4949 or 0x4D4D)');return!1};if(e.getUint16(l+2,!f)!=0x002A){if(t)console.log('Not valid TIFF data! (no 0x002A)');return!1};var g=e.getUint32(l+4,!f);if(g<0x00000008){if(t)console.log('Not valid TIFF data! (First offset less than 8)',e.getUint32(l+4,!f));return!1};u=a(e,l,l+g,y,f);if(u.ExifIFDPointer){s=a(e,l,l+u.ExifIFDPointer,b,f);for(i in s){switch(i){case'LightSource':case'Flash':case'MeteringMode':case'ExposureProgram':case'SensingMethod':case'SceneCaptureType':case'SceneType':case'CustomRendered':case'WhiteBalance':case'GainControl':case'Contrast':case'Saturation':case'Sharpness':case'SubjectDistanceRange':case'FileSource':s[i]=r[i][s[i]];break;case'ExifVersion':case'FlashpixVersion':s[i]=String.fromCharCode(s[i][0],s[i][1],s[i][2],s[i][3]);break;case'ComponentsConfiguration':s[i]=r.Components[s[i][0]]+r.Components[s[i][1]]+r.Components[s[i][2]]+r.Components[s[i][3]];break};u[i]=s[i]}};if(u.GPSInfoIFDPointer){c=a(e,l,l+u.GPSInfoIFDPointer,v,f);for(i in c){switch(i){case'GPSVersionID':c[i]=c[i][0]+'.'+c[i][1]+'.'+c[i][2]+'.'+c[i][3];break};u[i]=c[i]}};u['thumbnail']=d(e,l,g,f);return u};function u(e){if(!('DOMParser' in self)){return};var o=new DataView(e);if(t)console.log('Got file of length '+e.byteLength);if((o.getUint8(0)!=0xFF)||(o.getUint8(1)!=0xD8)){if(t)console.log('Not a valid JPEG');return!1};var r=2,c=e.byteLength,d=new DOMParser();while(r<(c-4)){if(n(o,r,4)=='http'){var l=r-1,f=o.getUint16(r-2)-1,i=n(o,l,f),u=i.indexOf('xmpmeta>')+8;i=i.substring(i.indexOf('<x:xmpmeta'),u);var a=i.indexOf('x:xmpmeta')+10;i=i.slice(0,a)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+i.slice(a);var s=d.parseFromString(i,'text/xml');return C(s)}
else{r++}}};function o(e){var t={};if(e.nodeType==1){if(e.attributes.length>0){t['@attributes']={};for(var a=0;a<e.attributes.length;a++){var s=e.attributes.item(a);t['@attributes'][s.nodeName]=s.nodeValue}}}
else if(e.nodeType==3){return e.nodeValue};if(e.hasChildNodes()){for(var r=0;r<e.childNodes.length;r++){var i=e.childNodes.item(r),n=i.nodeName;if(t[n]==null){t[n]=o(i)}
else{if(t[n].push==null){var l=t[n];t[n]=[];t[n].push(l)};t[n].push(o(i))}}};return t};function C(e){try{var t={};if(e.children.length>0){for(var r=0;r<e.children.length;r++){var i=e.children.item(r),l=i.attributes;for(var c in l){var a=l[c],s=a.nodeName,u=a.nodeValue;if(s!==undefined){t[s]=u}};var n=i.nodeName;if(typeof(t[n])=='undefined'){t[n]=o(i)}
else{if(typeof(t[n].push)=='undefined'){var f=t[n];t[n]=[];t[n].push(f)};t[n].push(o(i))}}}
else{t=e.textContent};return t}catch(d){console.log(d.message)}};e.enableXmp=function(){e.isXmpEnabled=!0};e.disableXmp=function(){e.isXmpEnabled=!1};e.getData=function(e,t){if(((self.Image&&e instanceof self.Image)||(self.HTMLImageElement&&e instanceof self.HTMLImageElement))&&!e.complete)return!1;if(!i(e)){h(e,t)}
else{if(t){t.call(e)}};return!0};e.getTag=function(e,t){if(!i(e))return;return e.exifdata[t]};e.getIptcTag=function(e,t){if(!i(e))return;return e.iptcdata[t]};e.getAllTags=function(e){if(!i(e))return{};var t,n=e.exifdata,r={};for(t in n){if(n.hasOwnProperty(t)){r[t]=n[t]}};return r};e.getAllIptcTags=function(e){if(!i(e))return{};var t,n=e.iptcdata,r={};for(t in n){if(n.hasOwnProperty(t)){r[t]=n[t]}};return r};e.pretty=function(e){if(!i(e))return'';var t,n=e.exifdata,r='';for(t in n){if(n.hasOwnProperty(t)){if(typeof n[t]=='object'){if(n[t]instanceof Number){r+=t+' : '+n[t]+' ['+n[t].numerator+'/'+n[t].denominator+']\r\n'}
else{r+=t+' : ['+n[t].length+' values]\r\n'}}
else{r+=t+' : '+n[t]+'\r\n'}}};return r};e.readFromBinaryFile=function(e){return l(e)};if(typeof define==='function'&&define.amd){define('exif-js',[],function(){return e})}}.call(this));
;var dropzoneHomePageMain=new Dropzone('#homepage-main-image',{autoQueue:!1,parallelUploads:1,chunking:!1,resizeQuality:1,maxFiles:1,});var dropzoneHomePageSecondary=new Dropzone('#homepage-secondary-image',{autoQueue:!1,parallelUploads:1,chunking:!1,resizeQuality:0.6,maxFiles:1,});var maxHeight=3000,maxWidth=3000;dropzoneHomePageSecondary.on('addedfile',function(e){var a=new FileReader();a.onload=(function(){return(function(a){var o=new Image();o.onload=function(){(function(e,a){EXIF.getData(e,function(){var i=processImg(a,maxWidth,maxHeight,this.width,this.height,EXIF.getTag(e,'Orientation')),n=base64ToFile(i,e),o=dropzoneHomePageSecondary.files.indexOf(e);console.log('Index : '+o);dropzoneHomePageSecondary.files[o]=n;dropzoneHomePageSecondary.enqueueFile(n)})})(e,a.target.result)};o.src=a.target.result})})(e);a.readAsDataURL(e)});dropzoneHomePageMain.on('addedfile',function(e){var a=new FileReader();a.onload=(function(){return(function(a){var o=new Image();o.onload=function(){(function(e,a){EXIF.getData(e,function(){var i=processImg(a,maxWidth,maxHeight,this.width,this.height,EXIF.getTag(e,'Orientation')),n=base64ToFile(i,e),o=dropzoneHomePageMain.files.indexOf(e);console.log('Index : '+o);dropzoneHomePageMain.files[o]=n;dropzoneHomePageMain.enqueueFile(n)})})(e,a.target.result)};o.src=a.target.result})})(e);a.readAsDataURL(e)});
;function getOrientation(t,e){var r=new FileReader();r.onload=function(i){var r=new DataView(i.target.result);if(r.getUint16(0,!1)!=0xFFD8){return e(-2)};var s=r.byteLength,t=2;while(t<s){if(r.getUint16(t+2,!1)<=8)return e(-1);var f=r.getUint16(t,!1);t+=2;if(f==0xFFE1){if(r.getUint32(t+=2,!1)!=0x45786966){return e(-1)};var n=r.getUint16(t+=6,!1)==0x4949;t+=r.getUint32(t+4,n);var l=r.getUint16(t,n);t+=2;for(var a=0;a<l;a++){if(r.getUint16(t+(a*12),n)==0x0112){return e(r.getUint16(t+(a*12)+8,n))}}}
else if((f&0xFF00)!=0xFF00){break}
else{t+=r.getUint16(t,!1)}};return e(-1)};r.readAsArrayBuffer(t)};function base64ToFile(e,t){var i,f;if(e.split(',')[0].indexOf('base64')!==-1){i=atob(e.split(',')[1])}
else{i=decodeURI(e.split(',')[1])};f=e.split(',')[0].split(':')[1].split(';')[0];var n=[];for(var r=0;r<i.length;r++){n[r]=i.charCodeAt(r)};var a=new File([new Uint8Array(n)],t.name,{type:f});var l=['upload','status','previewElement','previewTemplate','accepted'];$.each(l,function(r,e){a[e]=t[e]});return a};function processImg(l,t,s,r,i,o){var v=new Image;v.src=l;var e=0;if(o==3)e=180;if(o==6)e=90;if(o==8)e=90;if(e>=360)e=0;var a=r,n=i;if(r>t||i>s){if(r>i){if(r>t){n*=t/r;a=t}}
else{if(i>s){a*=s/i;n=s}}};var f=document.createElement('canvas');if(e===0||e===180){f.width=a;f.height=n}
else{f.width=n;f.height=a};var g=f.getContext('2d');if(e===90||e===270){g.translate(i/2,r/2);g.rotate(e*Math.PI/180);g.drawImage(v,0,0,r,i,-a/2,-n/2,a,n)}
else{g.drawImage(v,0,0,a,n)};return f.toDataURL()};